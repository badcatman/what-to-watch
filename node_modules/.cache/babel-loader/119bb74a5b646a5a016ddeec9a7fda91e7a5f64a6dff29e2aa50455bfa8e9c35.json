{"ast":null,"code":"import React,{useState}from\"react\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function AddItemForm(_ref){let{categories=[],onAdd,onCancel}=_ref;const[title,setTitle]=useState(\"\");const[description,setDescription]=useState(\"\");const[category,setCategory]=useState(()=>categories.length>0?categories[0]:\"\");const handleSubmit=e=>{e.preventDefault();if(!title||!description||!category)return;const newItem={title,description,poster:\"posters/placeholder.jpg\",// можно позже расширить\nwatched:false,rating:0};onAdd(category,newItem);};if(!categories||categories.length===0){return/*#__PURE__*/_jsx(\"p\",{children:\"\\u041D\\u0435\\u0442 \\u0434\\u043E\\u0441\\u0442\\u0443\\u043F\\u043D\\u044B\\u0445 \\u043A\\u0430\\u0442\\u0435\\u0433\\u043E\\u0440\\u0438\\u0439 \\u0434\\u043B\\u044F \\u0434\\u043E\\u0431\\u0430\\u0432\\u043B\\u0435\\u043D\\u0438\\u044F.\"});}return/*#__PURE__*/_jsxs(\"form\",{className:\"add-form\",onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(\"h2\",{children:\"\\u0414\\u043E\\u0431\\u0430\\u0432\\u0438\\u0442\\u044C \\u043D\\u043E\\u0432\\u0443\\u044E \\u043F\\u043E\\u0437\\u0438\\u0446\\u0438\\u044E\"}),/*#__PURE__*/_jsxs(\"label\",{children:[\"\\u041D\\u0430\\u0437\\u0432\\u0430\\u043D\\u0438\\u0435:\",/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:title,onChange:e=>setTitle(e.target.value),required:true})]}),/*#__PURE__*/_jsxs(\"label\",{children:[\"\\u041E\\u043F\\u0438\\u0441\\u0430\\u043D\\u0438\\u0435:\",/*#__PURE__*/_jsx(\"textarea\",{rows:\"4\",value:description,onChange:e=>setDescription(e.target.value),required:true})]}),/*#__PURE__*/_jsxs(\"label\",{children:[\"\\u041A\\u0430\\u0442\\u0435\\u0433\\u043E\\u0440\\u0438\\u044F:\",/*#__PURE__*/_jsx(\"select\",{value:category,onChange:e=>setCategory(e.target.value),required:true,children:categories.map(cat=>/*#__PURE__*/_jsx(\"option\",{children:cat},cat))})]}),/*#__PURE__*/_jsxs(\"div\",{style:{marginTop:\"12px\"},children:[/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"category-button\",children:\"\\u0421\\u043E\\u0445\\u0440\\u0430\\u043D\\u0438\\u0442\\u044C\"}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"category-button\",onClick:onCancel,children:\"\\u041E\\u0442\\u043C\\u0435\\u043D\\u0430\"})]})]});}export default AddItemForm;","map":{"version":3,"names":["React","useState","jsx","_jsx","jsxs","_jsxs","AddItemForm","_ref","categories","onAdd","onCancel","title","setTitle","description","setDescription","category","setCategory","length","handleSubmit","e","preventDefault","newItem","poster","watched","rating","children","className","onSubmit","type","value","onChange","target","required","rows","map","cat","style","marginTop","onClick"],"sources":["D:/what-to-watch (1)/src/components/AddItemForm.jsx"],"sourcesContent":["import React, { useState } from \"react\";\r\n\r\nfunction AddItemForm({ categories = [], onAdd, onCancel }) {\r\n  const [title, setTitle] = useState(\"\");\r\n  const [description, setDescription] = useState(\"\");\r\n  const [category, setCategory] = useState(() =>\r\n    categories.length > 0 ? categories[0] : \"\"\r\n  );\r\n\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    if (!title || !description || !category) return;\r\n\r\n    const newItem = {\r\n      title,\r\n      description,\r\n      poster: \"posters/placeholder.jpg\", // можно позже расширить\r\n      watched: false,\r\n      rating: 0,\r\n    };\r\n\r\n    onAdd(category, newItem);\r\n  };\r\n\r\n  if (!categories || categories.length === 0) {\r\n    return <p>Нет доступных категорий для добавления.</p>;\r\n  }\r\n\r\n  return (\r\n    <form className=\"add-form\" onSubmit={handleSubmit}>\r\n      <h2>Добавить новую позицию</h2>\r\n      <label>\r\n        Название:\r\n        <input\r\n          type=\"text\"\r\n          value={title}\r\n          onChange={(e) => setTitle(e.target.value)}\r\n          required\r\n        />\r\n      </label>\r\n      <label>\r\n        Описание:\r\n        <textarea\r\n          rows=\"4\"\r\n          value={description}\r\n          onChange={(e) => setDescription(e.target.value)}\r\n          required\r\n        />\r\n      </label>\r\n      <label>\r\n        Категория:\r\n        <select\r\n          value={category}\r\n          onChange={(e) => setCategory(e.target.value)}\r\n          required\r\n        >\r\n          {categories.map((cat) => (\r\n            <option key={cat}>{cat}</option>\r\n          ))}\r\n        </select>\r\n      </label>\r\n      <div style={{ marginTop: \"12px\" }}>\r\n        <button type=\"submit\" className=\"category-button\">Сохранить</button>\r\n        <button type=\"button\" className=\"category-button\" onClick={onCancel}>Отмена</button>\r\n      </div>\r\n    </form>\r\n  );\r\n}\r\n\r\nexport default AddItemForm;\r\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,KAAQ,OAAO,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAExC,QAAS,CAAAC,WAAWA,CAAAC,IAAA,CAAuC,IAAtC,CAAEC,UAAU,CAAG,EAAE,CAAEC,KAAK,CAAEC,QAAS,CAAC,CAAAH,IAAA,CACvD,KAAM,CAACI,KAAK,CAAEC,QAAQ,CAAC,CAAGX,QAAQ,CAAC,EAAE,CAAC,CACtC,KAAM,CAACY,WAAW,CAAEC,cAAc,CAAC,CAAGb,QAAQ,CAAC,EAAE,CAAC,CAClD,KAAM,CAACc,QAAQ,CAAEC,WAAW,CAAC,CAAGf,QAAQ,CAAC,IACvCO,UAAU,CAACS,MAAM,CAAG,CAAC,CAAGT,UAAU,CAAC,CAAC,CAAC,CAAG,EAC1C,CAAC,CAED,KAAM,CAAAU,YAAY,CAAIC,CAAC,EAAK,CAC1BA,CAAC,CAACC,cAAc,CAAC,CAAC,CAClB,GAAI,CAACT,KAAK,EAAI,CAACE,WAAW,EAAI,CAACE,QAAQ,CAAE,OAEzC,KAAM,CAAAM,OAAO,CAAG,CACdV,KAAK,CACLE,WAAW,CACXS,MAAM,CAAE,yBAAyB,CAAE;AACnCC,OAAO,CAAE,KAAK,CACdC,MAAM,CAAE,CACV,CAAC,CAEDf,KAAK,CAACM,QAAQ,CAAEM,OAAO,CAAC,CAC1B,CAAC,CAED,GAAI,CAACb,UAAU,EAAIA,UAAU,CAACS,MAAM,GAAK,CAAC,CAAE,CAC1C,mBAAOd,IAAA,MAAAsB,QAAA,CAAG,mNAAuC,CAAG,CAAC,CACvD,CAEA,mBACEpB,KAAA,SAAMqB,SAAS,CAAC,UAAU,CAACC,QAAQ,CAAET,YAAa,CAAAO,QAAA,eAChDtB,IAAA,OAAAsB,QAAA,CAAI,4HAAsB,CAAI,CAAC,cAC/BpB,KAAA,UAAAoB,QAAA,EAAO,mDAEL,cAAAtB,IAAA,UACEyB,IAAI,CAAC,MAAM,CACXC,KAAK,CAAElB,KAAM,CACbmB,QAAQ,CAAGX,CAAC,EAAKP,QAAQ,CAACO,CAAC,CAACY,MAAM,CAACF,KAAK,CAAE,CAC1CG,QAAQ,MACT,CAAC,EACG,CAAC,cACR3B,KAAA,UAAAoB,QAAA,EAAO,mDAEL,cAAAtB,IAAA,aACE8B,IAAI,CAAC,GAAG,CACRJ,KAAK,CAAEhB,WAAY,CACnBiB,QAAQ,CAAGX,CAAC,EAAKL,cAAc,CAACK,CAAC,CAACY,MAAM,CAACF,KAAK,CAAE,CAChDG,QAAQ,MACT,CAAC,EACG,CAAC,cACR3B,KAAA,UAAAoB,QAAA,EAAO,yDAEL,cAAAtB,IAAA,WACE0B,KAAK,CAAEd,QAAS,CAChBe,QAAQ,CAAGX,CAAC,EAAKH,WAAW,CAACG,CAAC,CAACY,MAAM,CAACF,KAAK,CAAE,CAC7CG,QAAQ,MAAAP,QAAA,CAEPjB,UAAU,CAAC0B,GAAG,CAAEC,GAAG,eAClBhC,IAAA,WAAAsB,QAAA,CAAmBU,GAAG,EAATA,GAAkB,CAChC,CAAC,CACI,CAAC,EACJ,CAAC,cACR9B,KAAA,QAAK+B,KAAK,CAAE,CAAEC,SAAS,CAAE,MAAO,CAAE,CAAAZ,QAAA,eAChCtB,IAAA,WAAQyB,IAAI,CAAC,QAAQ,CAACF,SAAS,CAAC,iBAAiB,CAAAD,QAAA,CAAC,wDAAS,CAAQ,CAAC,cACpEtB,IAAA,WAAQyB,IAAI,CAAC,QAAQ,CAACF,SAAS,CAAC,iBAAiB,CAACY,OAAO,CAAE5B,QAAS,CAAAe,QAAA,CAAC,sCAAM,CAAQ,CAAC,EACjF,CAAC,EACF,CAAC,CAEX,CAEA,cAAe,CAAAnB,WAAW","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}