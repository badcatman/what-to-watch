{"ast":null,"code":"import _objectSpread from\"D:/what-to-watch (1)/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState,useEffect}from\"react\";import contentData from\"./data/content\";import CategoryMenu from\"./components/CategoryMenu\";import Carousel from\"./components/Carousel\";import AddItemForm from\"./components/AddItemForm\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function App(){const[category,setCategory]=useState(\"Сериалы\");const[mode,setMode]=useState(\"normal\");// \"normal\" или \"add\"\nconst[content,setContent]=useState(()=>{const stored=localStorage.getItem(\"what-to-watch-content\");return stored?JSON.parse(stored):contentData;});useEffect(()=>{localStorage.setItem(\"what-to-watch-content\",JSON.stringify(content));},[content]);const updateItem=(categoryName,index,updates)=>{const updatedCategory=[...content[categoryName]];updatedCategory[index]=_objectSpread(_objectSpread({},updatedCategory[index]),updates);setContent(prev=>_objectSpread(_objectSpread({},prev),{},{[categoryName]:updatedCategory}));};const deleteItem=(categoryName,index)=>{const updatedCategory=[...content[categoryName]];updatedCategory[index].hidden=true;setContent(prev=>_objectSpread(_objectSpread({},prev),{},{[categoryName]:updatedCategory}));};const addItem=(categoryName,newItem)=>{const updatedCategory=[newItem,...(content[categoryName]||[])];setContent(prev=>_objectSpread(_objectSpread({},prev),{},{[categoryName]:updatedCategory}));setCategory(categoryName);setMode(\"normal\");};return/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"header-container\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"header\",children:\"\\u0427\\u0442\\u043E \\u043F\\u043E\\u0441\\u043C\\u043E\\u0442\\u0440\\u0435\\u0442\\u044C?\"}),/*#__PURE__*/_jsx(CategoryMenu,{selected:category,onSelect:cat=>{setCategory(cat);setMode(\"normal\");}}),/*#__PURE__*/_jsx(\"button\",{className:\"add-button\",onClick:()=>setMode(\"add\"),children:\"+\"})]}),mode===\"add\"?/*#__PURE__*/_jsx(AddItemForm,{categories:Object.keys(content),onAdd:addItem,onCancel:()=>setMode(\"normal\")}):/*#__PURE__*/_jsx(Carousel,{items:content[category].filter(item=>!item.hidden),category:category,onRate:(index,stars)=>updateItem(category,index,{rating:stars}),onToggleWatched:index=>{const current=content[category][index].watched;updateItem(category,index,{watched:!current});},onDelete:index=>deleteItem(category,index)})]});}export default App;","map":{"version":3,"names":["React","useState","useEffect","contentData","CategoryMenu","Carousel","AddItemForm","jsx","_jsx","jsxs","_jsxs","App","category","setCategory","mode","setMode","content","setContent","stored","localStorage","getItem","JSON","parse","setItem","stringify","updateItem","categoryName","index","updates","updatedCategory","_objectSpread","prev","deleteItem","hidden","addItem","newItem","className","children","selected","onSelect","cat","onClick","categories","Object","keys","onAdd","onCancel","items","filter","item","onRate","stars","rating","onToggleWatched","current","watched","onDelete"],"sources":["D:/what-to-watch (1)/src/App.jsx"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport contentData from \"./data/content\";\nimport CategoryMenu from \"./components/CategoryMenu\";\nimport Carousel from \"./components/Carousel\";\nimport AddItemForm from \"./components/AddItemForm\";\n\nfunction App() {\n  const [category, setCategory] = useState(\"Сериалы\");\n  const [mode, setMode] = useState(\"normal\"); // \"normal\" или \"add\"\n  const [content, setContent] = useState(() => {\n    const stored = localStorage.getItem(\"what-to-watch-content\");\n    return stored ? JSON.parse(stored) : contentData;\n  });\n\n  useEffect(() => {\n    localStorage.setItem(\"what-to-watch-content\", JSON.stringify(content));\n  }, [content]);\n\n  const updateItem = (categoryName, index, updates) => {\n    const updatedCategory = [...content[categoryName]];\n    updatedCategory[index] = { ...updatedCategory[index], ...updates };\n    setContent((prev) => ({ ...prev, [categoryName]: updatedCategory }));\n  };\n\n  const deleteItem = (categoryName, index) => {\n    const updatedCategory = [...content[categoryName]];\n    updatedCategory[index].hidden = true;\n    setContent((prev) => ({ ...prev, [categoryName]: updatedCategory }));\n  };\n\n  const addItem = (categoryName, newItem) => {\n    const updatedCategory = [newItem, ...(content[categoryName] || [])];\n    setContent((prev) => ({ ...prev, [categoryName]: updatedCategory }));\n    setCategory(categoryName);\n    setMode(\"normal\");\n  };\n\n  return (\n    <div className=\"container\">\n      <div className=\"header-container\">\n        <span className=\"header\">Что посмотреть?</span>\n        <CategoryMenu\n          selected={category}\n          onSelect={(cat) => {\n            setCategory(cat);\n            setMode(\"normal\");\n          }}\n        />\n        <button\n          className=\"add-button\"\n          onClick={() => setMode(\"add\")}\n        >\n          +\n        </button>\n      </div>\n\n      {mode === \"add\" ? (\n        <AddItemForm\n          categories={Object.keys(content)}\n          onAdd={addItem}\n          onCancel={() => setMode(\"normal\")}\n        />\n      ) : (\n        <Carousel\n          items={content[category].filter((item) => !item.hidden)}\n          category={category}\n          onRate={(index, stars) => updateItem(category, index, { rating: stars })}\n          onToggleWatched={(index) => {\n            const current = content[category][index].watched;\n            updateItem(category, index, { watched: !current });\n          }}\n          onDelete={(index) => deleteItem(category, index)}\n        />\n      )}\n    </div>\n  );\n}\n\nexport default App;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}